SLURM_JOBID=6044611
SLURM_JOB_NODELIST=jagupard33
SLURM_NNODES=1
SLURMTMPDIR=
working directory = /sailhome/fongsu/superhf
[2023-04-26 00:29:10,177] [WARNING] [runner.py:190:fetch_hostfile] Unable to find hostfile, will proceed with training with local resources only.
Detected CUDA_VISIBLE_DEVICES=0: setting --include=localhost:0
[2023-04-26 00:29:10,191] [INFO] [runner.py:540:main] cmd = /sailhome/fongsu/rm/bin/python -u -m deepspeed.launcher.launch --world_info=eyJsb2NhbGhvc3QiOiBbMF19 --master_addr=127.0.0.1 --master_port=29500 --enable_each_rank_log=None src/reward_modelling/reward_model.py --model_name_or_path=EleutherAI/gpt-neo-1.3B --output_dir=/nlp/scr/fongsu/rm_combined/distilbert_train_second_half/ --logging_steps=10 --per_device_train_batch_size=16 --per_device_eval_batch_size=16 --gradient_accumulation_steps=4 --num_train_epochs=1 --do_eval=True --evaluation_strategy=steps --eval_steps=100 --save_total_limit=3 --save_strategy=steps --save_steps=100 --learning_rate=1e-5 --weight_decay=0.001 --fp16=True --report_to=wandb --gradient_checkpointing=True --ddp_find_unused_parameters=False --deepspeed src/reward_modelling/ds_configs/base_configs.json
[2023-04-26 00:29:12,128] [INFO] [launch.py:222:main] 0 NCCL_P2P_DISABLE=1
[2023-04-26 00:29:12,128] [INFO] [launch.py:229:main] WORLD INFO DICT: {'localhost': [0]}
[2023-04-26 00:29:12,128] [INFO] [launch.py:235:main] nnodes=1, num_local_procs=1, node_rank=0
[2023-04-26 00:29:12,128] [INFO] [launch.py:246:main] global_rank_mapping=defaultdict(<class 'list'>, {'localhost': [0]})
[2023-04-26 00:29:12,128] [INFO] [launch.py:247:main] dist_world_size=1
[2023-04-26 00:29:12,128] [INFO] [launch.py:249:main] Setting CUDA_VISIBLE_DEVICES=0
[2023-04-26 00:29:15,770] [INFO] [comm.py:586:init_distributed] Initializing TorchBackend in DeepSpeed with backend nccl
[2023-04-26 00:41:21,923] [INFO] [launch.py:428:sigkill_handler] Killing subprocess 3947759
[2023-04-26 00:41:21,925] [ERROR] [launch.py:434:sigkill_handler] ['/sailhome/fongsu/rm/bin/python', '-u', 'src/reward_modelling/reward_model.py', '--local_rank=0', '--model_name_or_path=EleutherAI/gpt-neo-1.3B', '--output_dir=/nlp/scr/fongsu/rm_combined/distilbert_train_second_half/', '--logging_steps=10', '--per_device_train_batch_size=16', '--per_device_eval_batch_size=16', '--gradient_accumulation_steps=4', '--num_train_epochs=1', '--do_eval=True', '--evaluation_strategy=steps', '--eval_steps=100', '--save_total_limit=3', '--save_strategy=steps', '--save_steps=100', '--learning_rate=1e-5', '--weight_decay=0.001', '--fp16=True', '--report_to=wandb', '--gradient_checkpointing=True', '--ddp_find_unused_parameters=False', '--deepspeed', 'src/reward_modelling/ds_configs/base_configs.json'] exits with return code = 1
